# x265 Video Converter | ุชุจุฏูโฺฉููุฏู ูุฏู ุจู x265

<div dir="rtl">

ุงุจุฒุงุฑ ุฌุงูุน ู ูพุดุฑูุชู ุจุฑุง ุชุจุฏู ูุงูโูุง ูุฏู ุจู ูุฑูุช x265 (HEVC) ุจุง ูุงุจูุชโูุง ุฒุฑ:

- โ ุชุดุฎุต ุฎูุฏฺฉุงุฑ ฺฉูุช ูุฏู ู ุงุนูุงู ุชูุธูุงุช ุจููู
- โ ูพุฑุฏุงุฒุด ุฏุณุชูโุง ฺูุฏู ูุงู ุจู ุตูุฑุช ููุฒูุงู
- โ ุฏุณุชูโุจูุฏ ููุดููุฏ ูุงูโูุง (ูููุ ุณุฑุงูุ ุงููู)
- โ ููุงุด ููุงุฑ ูพุดุฑูุช ุฒูุฏู ุจุง ุขูุงุฑ ุชูุตู
- โ **ุญุงูุช ูุธุงุฑุช ุฎูุฏฺฉุงุฑ** - ูุงู ุจฺฏุฐุงุฑุฏุ ุฎูุฏฺฉุงุฑ ุชุจุฏู ูโุดูุฏ!
- โ ูุฏุฑุช ููุดููุฏ ููุงุจุน ุณุณุชู
- โ ุจุฑุฑุณ ุฎูุฏฺฉุงุฑ ุณูุงูุช ูุงูโูุง ุฎุฑูุฌ
- โ ูพุดุชุจุงู ฺฉุงูู ุงุฒ ุฒุจุงู ูุงุฑุณ
- โ ุซุจุช ุฑูุฏุงุฏูุง ู ุฎุทุงูุง ุฏุฑ ูุงู ูุงฺฏ

</div>

---

## Features

A comprehensive Python-based tool for converting video files to x265 (HEVC) format with:

- โ Automatic quality detection and optimal preset selection
- โ Batch processing with beautiful progress bars
- โ Intelligent file categorization (Movies, Series, Anime)
- โ Real-time conversion statistics
- โ **Auto-Watch Mode** - Drop files and forget, auto-converts!
- โ System resource management
- โ Output file verification
- โ Full Persian language support
- โ Comprehensive logging

---

## Installation | ูุตุจ

### Prerequisites | ูพุดโูุงุฒูุง

<div dir="rtl">

1. **Python 3.8 ุง ุจุงูุงุชุฑ**
   ```bash
   python3 --version
   ```

2. **FFmpeg** (ุจุงุฏ ุฏุฑ PATH ุณุณุชู ุจุงุดุฏ)
   ```bash
   # Ubuntu/Debian
   sudo apt update
   sudo apt install ffmpeg
   
   # macOS
   brew install ffmpeg
   
   # ุจุฑุฑุณ ูุตุจ
   ffmpeg -version
   ```

</div>

### Install Dependencies | ูุตุจ ูุงุจุณุชฺฏโูุง

```bash
cd /home/hossein/antigravit
pip install -r requirements.txt
```

Or install manually:
```bash
pip install tqdm psutil
```

---

## Usage | ูุญูู ุงุณุชูุงุฏู

<div dir="rtl">

### ุชุจุฏู ฺฉ ูุงู

```bash
python video_converter.py video.mp4
```

### ุชุจุฏู ฺูุฏ ูุงู

```bash
python video_converter.py video1.mp4 video2.mkv video3.avi
```

### ุชุจุฏู ุชูุงู ูุงูโูุง ฺฉ ูพูุดู

```bash
python video_converter.py /path/to/videos/
```

### ุงุณุชูุงุฏู ุงุฒ wildcards

```bash
python video_converter.py *.mp4
```

### ุชุนู ูพูุดู ุฎุฑูุฌ ุณูุงุฑุด

```bash
python video_converter.py video.mp4 --output /my/custom/output
```

### ุชุจุฏู ุจุฏูู ุจุฑุฑุณ ุฎุฑูุฌ

```bash
python video_converter.py video.mp4 --no-verify
```

### ููุงุด ุงุทูุงุนุงุช ุชูุตู (ุฏุจุงฺฏ)

```bash
python video_converter.py video.mp4 --verbose
```

### ููุงุด ุฑุงูููุง

```bash
python video_converter.py --help
```

---

## ๐ ุญุงูุช ูุธุงุฑุช ุฎูุฏฺฉุงุฑ | Auto-Watch Mode

### ุฑูุด ุขุณุงูโุชุฑ: ููุท ูุงู ุจฺฏุฐุงุฑุฏ!

```bash
# ุดุฑูุน ุญุงูุช ูุธุงุฑุช
./start_watch.sh

# ุง:
python3 auto_watch.py
```

**ุณูพุณ ูุงูโูุง ุฑุง ุฏุฑ ูพูุดู `input` ุจฺฏุฐุงุฑุฏ ู ุจุฑูุงูู ุฎูุฏฺฉุงุฑ ุขููุง ุฑุง ุชุจุฏู ูโฺฉูุฏ!** ๐

```
input/              โ ูุงูโูุง ุฑุง ุงูุฌุง ุจฺฏุฐุงุฑุฏ
โโโ _processed/     โ ูุงูโูุง ูููู ููุชูู ูโุดููุฏ
โโโ _failed/        โ ูุงูโูุง ูุงูููู

output/             โ ูุงูโูุง ุชุจุฏู ุดุฏู (x265)
```

๐ **ุฑุงูููุง ฺฉุงูู:** [AUTO_WATCH.md](AUTO_WATCH.md)


</div>

---

## Output Structure | ุณุงุฎุชุงุฑ ุฎุฑูุฌ

<div dir="rtl">

ุจุฑูุงูู ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ูุงูโูุง ุฑุง ุฏุณุชูโุจูุฏ ูโฺฉูุฏ:

</div>

```
output/
โโโ movies/              # ูููโูุง
โ   โโโ [movie_name]/
โ       โโโ movie_name.mkv
โโโ series/              # ุณุฑุงูโูุง
โ   โโโ [series_name]/
โ       โโโ S01/         # ูุตู 1
โ       โ   โโโ episode1.mkv
โ       โ   โโโ episode2.mkv
โ       โโโ S02/         # ูุตู 2
โ           โโโ episode1.mkv
โโโ anime/               # ุงูููโูุง
    โโโ [anime_name]/
        โโโ episode.mkv
```

---

## Quality Presets | ุชูุธูุงุช ฺฉูุช

<div dir="rtl">

ุจุฑูุงูู ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ุจุฑ ุงุณุงุณ ุฑุฒูููุดู ูุฏูุ ุชูุธูุงุช ุจููู ุฑุง ุงุนูุงู ูโฺฉูุฏ:

</div>

| Quality | Resolution | CRF | Preset | Action |
|---------|-----------|-----|--------|--------|
| **720p** | 1280ร720 | 23 | medium | ุชุจุฏู ูุณุชูู |
| **1080p** | 1920ร1080 | 28 | slow | ุชุจุฏู ูุณุชูู |
| **>1080p** | 2K/4K | 28 | slow | ฺฉุงูุด ุจู 1080p |
| **<720p** | SD | - | - | ุฑุฏ ูโุดูุฏ |

<div dir="rtl">

- ูุฏููุง ุจุง ฺฉูุช ฺฉูุชุฑ ุงุฒ 720p **ุฑุฏ ูโุดููุฏ**
- ูุฏููุง ุจุง ฺฉูุช ุจุงูุงุชุฑ ุงุฒ 1080p ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ **ุจู 1080p ฺฉุงูุด ูโุงุจูุฏ** ุชุง ุญุฌู ูุงู ุจููู ุดูุฏ
- ุชูุธูุงุช ุตุฏุง: **AAC 192k** (ุงุณุชุฑู ุง ฺูุฏ ฺฉุงูุงูู)

</div>

---

## Features Details | ุฌุฒุฆุงุช ูุงุจูุชโูุง

### 1. File Validation | ุงุนุชุจุงุฑุณูุฌ ูุงู

<div dir="rtl">

- ุจุฑุฑุณ ูุฌูุฏ ูุงู
- ุจุฑุฑุณ ูุฑูุชโูุง ูพุดุชุจุงู ุดุฏู (.mp4, .mkv, .avi, .mov, .flv, etc.)
- ุชุดุฎุต ูุงูโูุง ุงุฒ ูุจู ุชุจุฏู ุดุฏู ุจู x265
- ุจุฑุฑุณ ฺฉูุช ูุฏู (ุญุฏุงูู 720p)
- ุงุณุชุฎุฑุงุฌ ุงุทูุงุนุงุช ฺฉุงูู ูุฏู (ุฑุฒูููุดูุ ฺฉุฏฺฉุ ูุฏุช ุฒูุงูุ bitrate)

</div>

### 2. Intelligent Categorization | ุฏุณุชูโุจูุฏ ููุดููุฏ

<div dir="rtl">

ุจุฑูุงูู ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ููุน ูุญุชูุง ุฑุง ุชุดุฎุต ูโุฏูุฏ:

- **ููู**: ูุงูโูุง ุจุฏูู ุงูฺฏู ุณุฑุงู
- **ุณุฑุงู**: ุชุดุฎุต ุงูฺฏููุง S01E01ุ 1x01ุ Season 1 Episode 1
- **ุงููู**: ุชุดุฎุต ฺฉููุงุช ฺฉูุฏ ูุซู "anime"ุ "ุงููู"ุ "OVA"

</div>

### 3. Progress Tracking | ุฑุฏุงุจ ูพุดุฑูุช

<div dir="rtl">

ููุงุด ุงุทูุงุนุงุช ุฒูุฏู ุฏุฑ ุญู ุชุจุฏู:

- ุฏุฑุตุฏ ูพุดุฑูุช
- ุณุฑุนุช ุชุจุฏู (FPS)
- ุฒูุงู ุณูพุฑ ุดุฏู
- ุฒูุงู ุจุงููุงูุฏู (ุชุฎูู)

ุจุฑุง ูพุฑุฏุงุฒุด ุฏุณุชูโุง:
- ูพุดุฑูุช ฺฉู
- ุชุนุฏุงุฏ ูุงูโูุง ูููู
- ุชุนุฏุงุฏ ูุงูโูุง ูุงูููู
- ุชุนุฏุงุฏ ูุงูโูุง ุฑุฏ ุดุฏู

</div>

### 4. Resource Management | ูุฏุฑุช ููุงุจุน

<div dir="rtl">

- ูุธุงุฑุช ุจุฑ ุงุณุชูุงุฏู ุงุฒ CPU ู ุญุงูุธู
- ุชุนุฏู ุฎูุฏฺฉุงุฑ ุชุนุฏุงุฏ threads ุจุฑ ุงุณุงุณ ุจุงุฑ ุณุณุชู
- ุชููู ูููุช ุฏุฑ ุตูุฑุช ูุดุงุฑ ุฒุงุฏ ุจู ุณุณุชู
- ุจูููโุณุงุฒ ุฎูุฏฺฉุงุฑ ุจุฑุง ุฌููฺฏุฑ ุงุฒ ููู ุดุฏู ุณุณุชู

</div>

### 5. Output Verification | ุจุฑุฑุณ ุฎุฑูุฌ

<div dir="rtl">

ูพุณ ุงุฒ ุชุจุฏูุ ูุงู ุฎุฑูุฌ ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ุจุฑุฑุณ ูโุดูุฏ:

- ูุฌูุฏ ุฌุฑุงู ูุฏู
- ุตุญุช ฺฉุฏฺฉ (x265/HEVC)
- ููุงุณู ูุฏุช ุฒูุงู ุจุง ูุงู ูุฑูุฏ
- ุญุฐู ุฎูุฏฺฉุงุฑ ูุงูโูุง ูุนูุจ

</div>

### 6. Error Handling | ูุฏุฑุช ุฎุทุง

<div dir="rtl">

- ูพุงูโูุง ุฎุทุง ุฏูู ุจู ุฒุจุงู ูุงุฑุณ
- ุญุฐู ุฎูุฏฺฉุงุฑ ูุงูโูุง ูุงูุต
- ุซุจุช ุชูุงู ุฎุทุงูุง ุฏุฑ ูุงู ูุงฺฏ
- ููุงููุช ุฏุฑ ุจุฑุงุจุฑ ูููู (Ctrl+C)

</div>

### 7. Logging | ูุงฺฏโฺฏุฑ

<div dir="rtl">

ุชูุงู ุนููุงุช ุฏุฑ ูุงูโูุง ูุงฺฏ ุฐุฎุฑู ูโุดููุฏ:

- `logs/conversion.log` - ุชูุงู ุฑูุฏุงุฏูุง
- `logs/errors.log` - ููุท ุฎุทุงูุง

</div>

---

## Configuration | ูพฺฉุฑุจูุฏ

<div dir="rtl">

ุจุฑุง ุชุบุฑ ุชูุธูุงุชุ ูุงู `config.py` ุฑุง ูุฑุงุด ฺฉูุฏ:

</div>

```python
# ุชูุธูุงุช ฺฉูุช
QUALITY_PRESETS = {
    '720p': {'crf': 23, 'preset': 'medium'},
    '1080p': {'crf': 28, 'preset': 'slow'}
}

# ุชูุธูุงุช ุตุฏุง
AUDIO_CODEC = 'aac'
AUDIO_BITRATE = '192k'

# ูุฏุฑุช ููุงุจุน
MAX_CPU_PERCENT = 80
MIN_AVAILABLE_MEMORY_GB = 2
```

---

## Supported Formats | ูุฑูุชโูุง ูพุดุชุจุงู ุดุฏู

<div dir="rtl">

**ูุฑูุฏ:**
- .mp4
- .mkv
- .avi
- .mov
- .flv
- .wmv
- .m4v
- .webm

**ุฎุฑูุฌ:**
- .mkv (ุจุง ฺฉุฏฺฉ x265/HEVC)

</div>

---

## Examples | ูุซุงูโูุง

### Example 1: Convert a Single Movie

```bash
python video_converter.py "The Matrix.mp4"
```

Output:
```
output/movies/The Matrix/The Matrix.mkv
```

### Example 2: Convert a TV Series

```bash
python video_converter.py "Breaking Bad S01E01.mkv" "Breaking Bad S01E02.mkv"
```

Output:
```
output/series/Breaking Bad/S01/Breaking Bad S01E01.mkv
output/series/Breaking Bad/S01/Breaking Bad S01E02.mkv
```

### Example 3: Batch Convert All Videos in a Folder

```bash
python video_converter.py /downloads/movies/
```

### Example 4: Custom Output Directory

```bash
python video_converter.py *.mp4 --output /media/converted
```

---

## Troubleshooting | ุฑูุน ูุดฺฉูุงุช

<div dir="rtl">

### ุฎุทุง: "ffmpeg: command not found"

**ุฑุงูโุญู:** FFmpeg ุฑุง ูุตุจ ฺฉูุฏ:
```bash
sudo apt install ffmpeg
```

### ุฎุทุง: "ูุฑูุช ูุงู ูพุดุชุจุงู ููโุดูุฏ"

**ุฑุงูโุญู:** ููุท ูุฑูุชโูุง ูุนุชุจุฑ ูุฏู ูพุดุชุจุงู ูโุดููุฏ. ูุณุช ูุฑูุชโูุง ูพุดุชุจุงู ุดุฏู ุฑุง ุจุฑุฑุณ ฺฉูุฏ.

### ุฎุทุง: "ฺฉูุช ููู ููุงุณุจ ูุณุช"

**ุฑุงูโุญู:** ููุท ูุฏููุง 720p ู ุจุงูุงุชุฑ ูุงุจู ุชุจุฏู ูุณุชูุฏ. ูุฏููุง SD ุฑุฏ ูโุดููุฏ.

### ุฎุทุง: "ุงู ูุงู ูุจูุงู ุจู x265 ุชุจุฏู ุดุฏู ุงุณุช"

**ุฑุงูโุญู:** ูุงู ุงุฒ ูุจู ูุฑูุช x265 ุฏุงุฑุฏ ู ูุงุฒ ุจู ุชุจุฏู ูุฌุฏุฏ ูุณุช.

### ุณุณุชู ฺฉูุฏ ูโุดูุฏ

**ุฑุงูโุญู:** ุจุฑูุงูู ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ููุงุจุน ุฑุง ูุฏุฑุช ูโฺฉูุฏุ ุงูุง ูโุชูุงูุฏ:
- ุงุฒ `--no-resource-check` ุจุฑุง ุบุฑูุนุงู ฺฉุฑุฏู ุจุฑุฑุณ ููุงุจุน ุงุณุชูุงุฏู ฺฉูุฏ
- ุชูุธูุงุช `MAX_CPU_PERCENT` ุฑุง ุฏุฑ `config.py` ุชุบุฑ ุฏูุฏ

### ูุดุงูุฏู ูุงฺฏโูุง

```bash
cat logs/conversion.log    # ุชูุงู ุฑูุฏุงุฏูุง
cat logs/errors.log        # ููุท ุฎุทุงูุง
```

</div>

---

## Performance Tips | ูฺฉุงุช ุจูููโุณุงุฒ

<div dir="rtl">

1. **ุณุณุชูโูุง ูุฏุฑุชููุฏ:** ุจุฑุง ุณุณุชูโูุง ููุ ูโุชูุงูุฏ preset ุฑุง ุจู `fast` ุง `faster` ุชุบุฑ ุฏูุฏ
2. **ูุถุง ุฏุณฺฉ:** ุงุทููุงู ุญุงุตู ฺฉูุฏ ูุถุง ฺฉุงู ุจุฑุง ูุงูโูุง ุฎุฑูุฌ ุฏุงุฑุฏ
3. **ูพุฑุฏุงุฒุด ุฏุณุชูโุง:** ุจุฑุง ุชุจุฏู ุชุนุฏุงุฏ ุฒุงุฏ ูุงูุ ุงุฒ ูพุฑุฏุงุฒุด ุฏุณุชูโุง ุงุณุชูุงุฏู ฺฉูุฏ
4. **ุญุงูุธู:** ุจุฑุง ูุฏููุง 4Kุ ุญุฏุงูู 8GB RAM ุชูุตู ูโุดูุฏ

</div>

---

## Advanced Usage | ุงุณุชูุงุฏู ูพุดุฑูุชู

### Custom Preset Example

<div dir="rtl">

ุจุฑุง ุชุบุฑ preset ุจู `faster` (ุณุฑุนโุชุฑ ุงูุง ุญุฌู ุจุดุชุฑ):

</div>

Edit `config.py`:
```python
QUALITY_PRESETS = {
    '720p': {'crf': 23, 'preset': 'faster'},
    '1080p': {'crf': 28, 'preset': 'faster'}
}
```

### Process Only Specific Seasons

```bash
python video_converter.py /path/to/series/*S01*.mkv
```

---

## License | ูุฌูุฒ

<div dir="rtl">

ุงู ูุฑูโุงูุฒุงุฑ ุฑุงฺฏุงู ู ูุชูโุจุงุฒ ุงุณุช. ูโุชูุงูุฏ ุขู ุฑุง ุจุฑุง ูุฑ ููุธูุฑ ุงุณุชูุงุฏูุ ุชุบุฑ ู ุชูุฒุน ฺฉูุฏ.

</div>

---

## Credits | ุณุงุฒูุฏฺฏุงู

<div dir="rtl">

- **FFmpeg** - ุงุจุฒุงุฑ ูุฏุฑุชููุฏ ูพุฑุฏุงุฒุด ูุฏู
- **tqdm** - ฺฉุชุงุจุฎุงูู ููุงุฑ ูพุดุฑูุช
- **psutil** - ฺฉุชุงุจุฎุงูู ูุงูุชูุฑูฺฏ ุณุณุชู

</div>

---

## Support | ูพุดุชุจุงู

<div dir="rtl">

ุจุฑุง ฺฏุฒุงุฑุด ูุดฺฉูุงุช ุง ูพุดููุงุฏุงุชุ ูุงฺฏโูุง ุฑุง ุจุฑุฑุณ ฺฉูุฏ:

```bash
cat logs/errors.log
```

</div>

---

<div align="center" dir="rtl">

**ุณุงุฎุชู ุดุฏู ุจุง โค๏ธ ุจุฑุง ุชุจุฏู ุขุณุงู ูุฏููุง ุจู x265**

Made with โค๏ธ for easy video conversion to x265

</div>
