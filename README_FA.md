# مبدل ویدیویی هوشمند x265 (نسخه نهایی)

این برنامه یک ابزار قدرتمند و هوشمند برای تبدیل فایل‌های ویدیویی به فرمت فشرده و با کیفیت x265 (HEVC) است. این ابزار برای کاهش حجم آرشیوهای فیلم و سریال بدون افت کیفیت محسوس طراحی شده است.

## ویژگی‌ها

*   **کاهش حجم فوق‌العاده:** تبدیل ویدیوها به کدک x265 با حفظ کیفیت.
*   **هوشمند و خودکار:** تشخیص خودکار نوع محتوا (فیلم یا سریال) و کیفیت آن.
*   **حالت نظارت (Auto Watch):** نظارت بر یک پوشه و تبدیل خودکار فایل‌های جدید به محض اضافه شدن.
*   **ادامه هوشمند:** اگر فرآیند قطع شود، در اجرای بعدی فایل‌های تکمیل شده را نادیده می‌گیرد و فایل‌های ناقص را دوباره انجام می‌دهد.
*   **نوار پیشرفت زیبا:** نمایش درصد پیشرفت، سرعت تبدیل و زمان باقی‌مانده در یک خط.
*   **بدون تغییر در فایل اصلی:** فایل‌های ورودی شما دست‌نخورده باقی می‌مانند.

## پیش‌نیازها

برای اجرای این برنامه به موارد زیر نیاز دارید:
1.  **پایتون 3.6 یا بالاتر** (نصب شده روی سیستم)
2.  **نرم‌افزار FFmpeg** (باید در PATH سیستم باشد)

### نصب پیش‌نیازها

#### لینوکس (Ubuntu/Debian)
```bash
sudo apt update
sudo apt install ffmpeg python3 python3-pip
```

#### مک (macOS)
اگر Homebrew دارید:
```bash
brew install ffmpeg python
```

#### ویندوز (Windows)
1.  پایتون را از [python.org](https://www.python.org/) دانلود و نصب کنید (تیک **Add Python to PATH** را بزنید).
2.  FFmpeg را دانلود کرده و فایل `ffmpeg.exe` را به پوشه `C:\Windows` یا هر جایی که در PATH است منتقل کنید.

## نصب برنامه

### در لینوکس و مک
1.  ترمینال را باز کنید.
2.  دستور زیر را اجرا کنید:
```bash
bash install.sh
```

### در ویندوز
1.  روی فایل `install.bat` دابل کلیک کنید.
2.  صبر کنید تا کتابخانه‌ها نصب شوند.

## نحوه استفاده

### 1. تبدیل یک فایل یا پوشه خاص

**لینوکس و مک:**
```bash
python3 video_converter.py /path/to/video.mp4
```

**ویندوز:**
```cmd
python video_converter.py "C:\Path\To\Video.mp4"
```

### 2. حالت نظارت خودکار (پیشنهادی)

**لینوکس و مک:**
```bash
python3 auto_watch.py --watch /path/to/input --output /path/to/output
```

**ویندوز:**
```cmd
python auto_watch.py --watch "C:\Path\To\Input" --output "C:\Path\To\Output"
```

*   `--watch`: پوشه‌ای که فایل‌های اصلی را در آن می‌ریزید.
*   `--output`: پوشه‌ای که فایل‌های کم‌حجم شده در آن ذخیره می‌شوند.

اگر آرگومان‌ها را ندهید، به صورت پیش‌فرض پوشه‌های `input` و `output` در کنار برنامه را استفاده می‌کند.

## ساختار فایل‌ها

*   `video_converter.py`: برنامه اصلی تبدیل.
*   `auto_watch.py`: اسکریپت نظارت خودکار.
*   `config.py`: تنظیمات پیشرفته (کیفیت، بیت‌ریت صدا و ...).
*   `modules/`: ماژول‌های داخلی برنامه.

## نکات مهم

*   فایل‌های اصلی شما **هرگز حذف یا جابجا نمی‌شوند**.
*   اگر فایلی ناقص تبدیل شود، برنامه به طور خودکار آن را تشخیص داده و در تلاش بعدی اصلاح می‌کند.
*   برای توقف برنامه در حالت نظارت، کلیدهای `Ctrl+C` را فشار دهید.
